---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/home/Hero.astro";
import Features from "../components/home/Features.astro";
import UseCases from "../components/home/UseCases.astro";
import Audience from "../components/home/Audience.astro";
import { getCollection } from "astro:content";

const homepageCollection = await getCollection("homepage");
const homeData = homepageCollection[0]?.data;

if (!homeData) {
  console.error("Home page data not found in Astro content collection");
}
---

<Layout
  title={homeData?.seo?.metaTitle || "Tiny Explorer - Premium Play Sofas"}
>
  <Hero
    title={homeData?.hero?.title || "Tiny Explorer"}
    subtitle={homeData?.hero?.subtitle}
    ctaText={homeData?.hero?.ctaText}
    ctaLink={homeData?.hero?.ctaLink}
    backgroundImage={homeData?.hero?.backgroundImage}
  />
  <Features
    title={homeData?.features?.title || "Why Tiny Explorer?"}
    subtitle={homeData?.features?.subtitle}
    features={homeData?.features?.features || []}
  />
  <UseCases />
  <Audience />
</Layout>
